<script src="../simpletest.js"></script>
<script>
    /*
     *   arr.indexOf(searchElement[, fromIndex])
     *   
     *   1 - it returns -1 if fromIndex is greater than or equal to arr.length - DONE
     *   2 - it returns -1 if fromIndex is a negative number - DONE
     *   3 - it starts from 0 if fromIndex is not defined - DONE
     *   4 - it returns -1 if the searchElement is not found - DONE
     *   5 - it starts with fromIndex element and returns the first index of the element in the array - DONE
     *
     */

    Array.prototype.indexOf = function (searchElement, fromIndex) {
        var returnValue = -1;
        var startingIndex;

        if (arguments.length === 1) {
            startingIndex = 0;
        }

        if (arguments.length >= 2) {
            startingIndex = fromIndex;

        }

        if (fromIndex >= this.length || fromIndex < 0) return returnValue;

        for (var i = startingIndex; i < this.length; i++) {
            if (this[i] === searchElement) return i;
        }

        return returnValue;
    };

    tests({
        "it returns -1 if fromIndex is greater than or equal to arr.length": function () {
            const value = [1, 2, 3].indexOf(3, 3);
            eq(value, -1);
        },
        "it returns -1 if fromIndex is a negative number": function () {
            const value = [1, 2, 3].indexOf(1, -10);

            eq(value, -1);
        },
        "it starts from 0 if fromIndex is not defined": function () {
            const value = [1].indexOf(1);

            eq(value, 0);
        },
        "it returns -1 if the searchElement is not found": function () {
            const value = [1, 2, 3, 4, 5, 6].indexOf(7);

            eq(value, -1);
        },
        "it starts with fromIndex element and returns the first index of the element in the array": function () {
            const value = [1, 1, 1, 1, 1, 1].indexOf(1, 3);

            eq(value, 3);
        },
    });
</script>